import React, { VFC } from 'react';import { useRecoilValue, useSetRecoilState } from 'recoil';import { MoviesCarousel } from '@components/pages/Home';import { categoriesList } from '@store/selectors';import { categories as storeCategories, moviesState } from '@store/atoms';import { fetchMoviesByCategory } from '@store/api';const Home: VFC = () => {  // all movies  const setMovies = useSetRecoilState(moviesState);  // categories  const categories = useRecoilValue(categoriesList);  const fetchMoviesHandler = async (category: typeof storeCategories[number]) => {    try {      setMovies((prevState) => ({        ...prevState,        [category]: {          ...prevState[category],          loading: true        }      }));      const data = await fetchMoviesByCategory();      setMovies((prevState) => ({        ...prevState,        [category]: {          ...prevState[category],          loading: false,          list: data.results        }      }));    } catch (err) {      setMovies((prevState) => ({        ...prevState,        [category]: {          ...prevState[category],          loading: false,          error: err        }      }));    }  };  return (    <section className="py-5">      {categories.map((category, index) => (        <MoviesCarousel          key={category}          name={category as typeof storeCategories[number]}          index={index}          fetchHandler={(category: typeof storeCategories[number]) =>            fetchMoviesHandler(category)          }        />      ))}    </section>  );};export default Home;